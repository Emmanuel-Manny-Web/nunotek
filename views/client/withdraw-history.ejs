<html lang="en">
    <%- include('../partials/clients/head') %>

<body>


<div class="wrapper">
    <%- include('../partials/clients/sidebar') %>

    <div class="main">
        <%- include('../partials/clients/header') %>

        <main class="content">
            <div class="container-fluid p-0">

                <h1 class="h3 mb-4 mt-5">Withdraw Log</h1>

                <div class="row">
                    <div class="col-12">
                        


                        
    <div class="dashboard-section pt-120 bg--section">
        <div class="container">
            <div class="pb-120 mb-05">


                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive--md table-responsive">
                            <table class="table datatable-pagination">
                                <thead class="">
                                <tr>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Time</th>
                                </tr>
                                </thead>
                                <tbody>
																	<% withdrawals.forEach((withdrawal, index) => { %>
																		<tr>
																			<td>
																				<strong> ₦ <%= Number(withdrawal.amount).toLocaleString() %></strong>
																				<p class="text-danger">
																					₦ <%= Number(withdrawal.charge).toLocaleString() %>  Charges
																				</p>  
																			</td>
																			<td data-label="Status">
																				<% if(withdrawal.status === 'Pending') { %>
																					<span class="text-warning fw-bold"><%= withdrawal.status %></span>
																				<% } else if(withdrawal.status === 'Paid' || withdrawal.status === 'Approved') { %>
																					<span class="fw-bold text-success"><%= withdrawal.status %></span>
																				<% } else { %>
																					<span class="fw-bold text-danger"><%= withdrawal.status %></span>
																				<% } %>
																			</td>
																			<td data-label="Time">
																				<%= withdrawal.createdAt.toString().slice(0, 21) %>
																			</td>
																		</tr>
																	<% }) %>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                

            </div>
        </div>
    </div>


    
    <div id="detailModal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="withdraw-detail"></div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

                    </div>
                </div>

            </div>
        </main>

        <%- include('../partials/clients/footer') %>
    </div>
</div>

<!-- bootstrap js -->
<script src="js/jquery-3.4.1.min.js"></script>

<script src="js/app.js"></script>



    <script>
        (function ($) {
            "use strict";
            $('.approveBtn').on('click', function () {
                var modal = $('#detailModal');
                var feedback = $(this).data('admin_feedback');
                feedback = feedback ? feedback : 'Data Not Found';
                modal.find('.withdraw-detail').html(`<p> ${feedback} </p>`);
                modal.modal('show');
            });
        })(jQuery);

    </script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<%- include('../partials/clients/whatsapp') %>

<style type="text/css">
    .float{
        position:fixed;
        width:60px;
        height:60px;
        bottom:80px;
        right:40px;
        background-color:#0d93e9;
        color:#FFF;
        border-radius:50px;
        text-align:center;
        font-size:30px;
        box-shadow: 2px 2px 3px #999;
        z-index:100;
    }

    .my-float{
        margin-top:16px;
    }
</style>
<link rel="stylesheet" href="css/izitoast.min.css">
<script src="js/iziToast.min.js"></script>

<script>
    "use strict";
    function notify(status,message) {
        iziToast[status]({
            message: message,
            position: "topRight"
        });
    }
</script>

</body></html>